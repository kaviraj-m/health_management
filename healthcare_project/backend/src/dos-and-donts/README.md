# Dos and Don'ts Module

## Overview
The Dos and Don'ts module manages healthcare recommendations for patients, allowing healthcare providers to create and track specific guidelines that patients should follow (Dos) or avoid (Don'ts). This module is essential for patient care management, enabling personalized health guidance based on individual patient conditions and needs.

## Components

### Controller (`dos-and-donts.controller.ts`)
The controller handles HTTP requests and defines the following endpoints:

- `POST /dos-and-donts/patient/:patientId` - Create a new Do or Don't recommendation for a specific patient
- `GET /dos-and-donts/patient/:patientId` - Retrieve all Dos and Don'ts for a specific patient
- `GET /dos-and-donts/:id` - Retrieve a specific Do or Don't by ID
- `PATCH /dos-and-donts/:id` - Update a Do or Don't
- `DELETE /dos-and-donts/:id` - Delete a Do or Don't

All endpoints are protected with JWT authentication to ensure that only authorized users can access or modify recommendations.

### Service (`dos-and-donts.service.ts`)
The service contains the business logic for Dos and Don'ts operations:

- `create(patientId, createDoAndDontDto)` - Creates a new Do or Don't for a patient after verifying the patient exists
- `findAllForPatient(patientId)` - Retrieves all Dos and Don'ts for a specific patient
- `findOne(id)` - Retrieves a specific Do or Don't by ID with related patient information
- `update(id, updateDoAndDontDto)` - Updates a Do or Don't after verifying it exists
- `remove(id)` - Deletes a Do or Don't after verifying it exists

### DTOs
- `CreateDoAndDontDto` - Validates data for creating Do or Don't recommendations
- `UpdateDoAndDontDto` - Validates data for updating Do or Don't recommendations

## Data Model
The DosAndDonts model includes the following fields:
- `id` - Unique identifier
- `type` - Type of recommendation (DO or DONT)
- `description` - Detailed description of the recommendation
- `isAutoGenerated` - Flag indicating if the recommendation was automatically generated
- `patientId` - Reference to the associated patient
- `patient` - Relationship to the Patient entity
- `createdAt` - Creation timestamp
- `updatedAt` - Last update timestamp

## API Endpoints

### Create Do or Don't

Creates a new healthcare recommendation for a specific patient.

- **URL**: `/api/dos-and-donts/patient/:patientId`
- **Method**: `POST`
- **Auth**: Required (JWT)
- **Headers**: `Authorization: Bearer <token>`
- **URL Parameters**:
  - `patientId`: ID of the patient
- **Request Body**:
```json
{
  "type": "DO",
  "description": "Walk at least 30 minutes every day",
  "isAutoGenerated": false
}
```

#### Response (201 Created)
```json
{
  "id": 1,
  "type": "DO",
  "description": "Walk at least 30 minutes every day",
  "isAutoGenerated": false,
  "patientId": 1,
  "createdAt": "2023-12-01T10:30:00Z",
  "updatedAt": "2023-12-01T10:30:00Z"
}
```

### Get All Dos and Don'ts for a Patient

Retrieves all healthcare recommendations for a specific patient.

- **URL**: `/api/dos-and-donts/patient/:patientId`
- **Method**: `GET`
- **Auth**: Required (JWT)
- **Headers**: `Authorization: Bearer <token>`
- **URL Parameters**:
  - `patientId`: ID of the patient

#### Response (200 OK)
```json
[
  {
    "id": 1,
    "type": "DO",
    "description": "Walk at least 30 minutes every day",
    "isAutoGenerated": false,
    "patientId": 1,
    "createdAt": "2023-12-01T10:30:00Z",
    "updatedAt": "2023-12-01T10:30:00Z"
  },
  {
    "id": 2,
    "type": "DONT",
    "description": "Avoid high-sodium foods",
    "isAutoGenerated": true,
    "patientId": 1,
    "createdAt": "2023-12-01T10:35:00Z",
    "updatedAt": "2023-12-01T10:35:00Z"
  }
]
```

### Get Do or Don't by ID

Retrieves a specific healthcare recommendation with detailed patient information.

- **URL**: `/api/dos-and-donts/:id`
- **Method**: `GET`
- **Auth**: Required (JWT)
- **Headers**: `Authorization: Bearer <token>`
- **URL Parameters**:
  - `id`: ID of the Do or Don't

#### Response (200 OK)
```json
{
  "id": 1,
  "type": "DO",
  "description": "Walk at least 30 minutes every day",
  "isAutoGenerated": false,
  "patientId": 1,
  "createdAt": "2023-12-01T10:30:00Z",
  "updatedAt": "2023-12-01T10:30:00Z",
  "patient": {
    "id": 1,
    "user": {
      "id": 5,
      "email": "patient@example.com",
      "profile": {
        "firstName": "John",
        "lastName": "Doe"
      }
    }
  }
}
```

### Update Do or Don't

Updates an existing healthcare recommendation.

- **URL**: `/api/dos-and-donts/:id`
- **Method**: `PATCH`
- **Auth**: Required (JWT)
- **Headers**: `Authorization: Bearer <token>`
- **URL Parameters**:
  - `id`: ID of the Do or Don't
- **Request Body**:
```json
{
  "type": "DO",
  "description": "Walk at least 45 minutes every day"
}
```

#### Response (200 OK)
```json
{
  "id": 1,
  "type": "DO",
  "description": "Walk at least 45 minutes every day",
  "isAutoGenerated": false,
  "patientId": 1,
  "createdAt": "2023-12-01T10:30:00Z",
  "updatedAt": "2023-12-01T11:15:00Z"
}
```

### Delete Do or Don't

Deletes a healthcare recommendation.

- **URL**: `/api/dos-and-donts/:id`
- **Method**: `DELETE`
- **Auth**: Required (JWT)
- **Headers**: `Authorization: Bearer <token>`
- **URL Parameters**:
  - `id`: ID of the Do or Don't

#### Response (200 OK)
```json
{
  "message": "Do and Don't with ID 1 deleted successfully"
}
```

## Access Control

- Doctors can create, view, update, and delete Dos and Don'ts for their patients
- Patients can view their own Dos and Don'ts
- Admin users can manage all Dos and Don'ts
- The system can auto-generate Dos and Don'ts based on patient conditions 